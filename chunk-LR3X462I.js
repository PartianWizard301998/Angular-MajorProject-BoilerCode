import{b as w,g as I}from"./chunk-YF6KXD7F.js";import{a as P,b as d,c as b,d as M,e as S,f as y,g as T,h as F,i as D,j as E}from"./chunk-PB7YHNDR.js";import{g as O,j as _}from"./chunk-N4FCLWEU.js";import{a as N}from"./chunk-QE4YD5XR.js";import{a as R}from"./chunk-BGDBGTYA.js";import{l as x,n as C}from"./chunk-CITMWSHZ.js";import{Db as n,Hb as v,Sa as m,ea as a,hb as g,ja as u,jb as s,nb as o,ob as i,pb as f,ub as h}from"./chunk-NXHE66ZE.js";function k(t,V){t&1&&(o(0,"div",8),n(1,"*OTP is required"),i())}function G(t,V){t&1&&(o(0,"div",8),n(1,"*Invalid OTP."),i())}var Q=(()=>{class t{constructor(){this.fb=a(D),this.authService=a(N),this.router=a(O),this.dialogRef=a(w),this.toastService=a(R)}ngOnInit(){this.otpForm=this.fb.group({otp:["",d.compose([d.required,d.pattern("^[0-9]*$")])]})}verifyOTP(){let c={email:localStorage.getItem("email"),otp:this.otpForm.value.otp};this.authService.verifyOtpService(c).subscribe(e=>{e&&e.message&&(alert(e.message),this.otpForm.reset(),this.dialogRef.close(!0),this.toastService.show("OTP VERIFIED",{type:"success",autohide:!0,showClose:!0}))},e=>{this.toastService.show(e.error.message,{type:"error",autohide:!0,showClose:!0})})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=u({type:t,selectors:[["app-otp-dialog"]],standalone:!0,features:[v],decls:14,vars:3,consts:[[1,"card"],[1,"form",3,"formGroup"],[1,"title"],[1,"message"],[1,"inputs"],["type","text","formControlName","otp","placeholder","Enter OTP","maxlength","6"],["Class","text-danger mt-2",4,"ngIf"],[1,"action",3,"click"],["Class","text-danger mt-2"]],template:function(e,r){if(e&1&&(o(0,"div",0)(1,"form",1)(2,"div",2),n(3,"OTP"),i(),o(4,"div",2),n(5,"Verification Code"),i(),o(6,"p",3),n(7,"We have sent a verification code to your mobile number"),i(),o(8,"div",4),f(9,"input",5),g(10,k,2,0,"div",6)(11,G,2,0,"div",6),i(),o(12,"button",7),h("click",function(){return r.verifyOTP()}),n(13,"verify me"),i()()()),e&2){let l,p;m(),s("formGroup",r.otpForm),m(9),s("ngIf",((l=r.otpForm.get("otp"))==null?null:l.touched)&&((l=r.otpForm.get("otp"))==null?null:l.hasError("required"))),m(),s("ngIf",((p=r.otpForm.get("otp"))==null?null:p.touched)&&((p=r.otpForm.get("otp"))==null?null:p.hasError("pattern")))}},dependencies:[I,C,x,_,E,S,P,b,M,F,y,T],styles:[".form[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:space-around;width:300px;background-color:#fff;border-radius:12px;padding:20px}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#000}.message[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;margin-top:4px;text-align:center}.inputs[_ngcontent-%COMP%]{margin-top:10px}.inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100px;height:32px;text-align:center;border:none;border-bottom:1.5px solid #d2d2d2;margin:10px}.inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:1.5px solid royalblue;outline:none}.action[_ngcontent-%COMP%]{margin-top:24px;padding:12px 16px;border-radius:8px;border:none;background-color:#4169e1;color:#fff;cursor:pointer;align-self:end}.card[_ngcontent-%COMP%]{box-shadow:#861010}.text-danger[_ngcontent-%COMP%]{text-align:center}"]})}}return t})();export{Q as a};
