import{a as V}from"./chunk-WKARZEKO.js";import{a as D}from"./chunk-CUW4NMGD.js";import{a as E,b as P,c as x,d as R,e as q,f as k,g as N,i as T,j as I}from"./chunk-PB7YHNDR.js";import{e as S,g as F}from"./chunk-N4FCLWEU.js";import{a as M}from"./chunk-QE4YD5XR.js";import"./chunk-5J55P6B7.js";import{a as G}from"./chunk-BGDBGTYA.js";import{l as y,n as C}from"./chunk-CITMWSHZ.js";import{Db as o,Hb as b,Sa as a,ea as l,hb as h,ja as _,jb as n,nb as t,ob as s,pb as w,ub as g}from"./chunk-NXHE66ZE.js";function A(e,d){e&1&&(t(0,"div",18),o(1,"*Password is required"),s())}function j(e,d){e&1&&(t(0,"div",18),o(1,"*Password must be at least 8 characters long, contain one uppercase letter, one lowercase letter, one digit, and one special character. "),s())}function O(e,d){e&1&&(t(0,"div",18),o(1,"*Password is required"),s())}function B(e,d){e&1&&(t(0,"div",18),o(1,"*Password did Not matched."),s())}function L(e,d){e&1&&(t(0,"div",19),o(1,"*Passwords match."),s())}var te=(()=>{class e{constructor(){this.fb=l(T),this.router=l(F),this.authService=l(M),this.activatedRoute=l(S),this.token="",this.toastService=l(G)}ngOnInit(){this.token=this.activatedRoute.snapshot.paramMap.get("token"),this.resetPassForm=this.fb.group({password:["",[P.required,D()]],confirmpassword:["",P.required]},{validator:V("password","confirmpassword")})}updatePassword(){let v={token:this.token,password:this.resetPassForm.value.password};this.authService.resetPasswordService(v).subscribe(i=>{alert(i.message),this.resetPassForm.reset(),this.toastService.show(i.message,{type:"success",autohide:!0,showClose:!0}),this.router.navigate(["/login"])},i=>{this.toastService.show(i.error.message,{type:"error",autohide:!0,showClose:!0})})}clearForm(){this.resetPassForm.reset()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=_({type:e,selectors:[["app-reset-password"]],standalone:!0,features:[b],decls:33,vars:6,consts:[[1,"container"],[1,""],[1,"px-4","py-5","px-md-5","text-center","text-lg-start"],[1,"row","gx-lg-5","align-items-center"],[1,"col-lg-6","mb-5","mb-lg-0"],[1,"my-5","display-3","fw-bold","ls-tight"],[1,"text-primary"],[2,"color","hsl(217, 10%, 50.8%)"],[1,"card"],[1,"card-body","py-5","px-md-5"],[3,"formGroup"],[1,"mb-3"],["type","password","formControlName","password","placeholder","New Password",1,"form-control","form-control-sm"],["Class","text-danger mt-2",4,"ngIf"],["type","password","formControlName","confirmpassword","placeholder","Confirm Password",1,"form-control","form-control-sm"],["Class","text-success mt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-sm","mb-4",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm","mb-4","mx-2",3,"click"],["Class","text-danger mt-2"],["Class","text-success mt-2"]],template:function(i,r){if(i&1&&(t(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",0)(4,"div",3)(5,"div",4)(6,"h1",5),o(7," The best offer "),w(8,"br"),t(9,"span",6),o(10,"for your business"),s()(),t(11,"p",7),o(12," Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet, itaque accusantium odio, soluta, corrupti aliquam quibusdam tempora at cupiditate quis eum maiores libero veritatis? Dicta facilis sint aliquid ipsum atque? "),s()(),t(13,"div",4)(14,"div",8)(15,"div",9)(16,"form",10)(17,"h2"),o(18,"Reset your Password"),s(),t(19,"div",11),w(20,"input",12),h(21,A,2,0,"div",13)(22,j,2,0,"div",13),s(),t(23,"div",11),w(24,"input",14),h(25,O,2,0,"div",13)(26,B,2,0,"div",13)(27,L,2,0,"div",15),s(),t(28,"div")(29,"button",16),g("click",function(){return r.updatePassword()}),o(30,"Change Password"),s(),t(31,"button",17),g("click",function(){return r.clearForm()}),o(32,"Reset"),s()()()()()()()()()()()),i&2){let m,p,u,c,f;a(16),n("formGroup",r.resetPassForm),a(5),n("ngIf",((m=r.resetPassForm.get("password"))==null?null:m.touched)&&((m=r.resetPassForm.get("password"))==null?null:m.hasError("required"))),a(),n("ngIf",((p=r.resetPassForm.get("password"))==null?null:p.touched)&&((p=r.resetPassForm.get("password"))==null?null:p.hasError("invalidPassword"))),a(3),n("ngIf",((u=r.resetPassForm.get("confirmpassword"))==null?null:u.touched)&&((u=r.resetPassForm.get("confirmpassword"))==null?null:u.hasError("required"))),a(),n("ngIf",((c=r.resetPassForm.get("confirmpassword"))==null?null:c.touched)&&((c=r.resetPassForm.get("confirmpassword"))==null?null:c.hasError("confirmPasswordValidator"))),a(),n("ngIf",((f=r.resetPassForm.get("confirmpassword"))==null?null:f.touched)&&!((f=r.resetPassForm.get("confirmpassword"))!=null&&f.hasError("confirmPasswordValidator")))}},dependencies:[C,y,I,q,E,x,R,k,N]})}}return e})();export{te as default};
